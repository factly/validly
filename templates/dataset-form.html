{% extends "base.html" %} {% block content %}
<div class="container is-grouped mt-4">
    <form action="/expectation/datasets/" method="POST" enctype="multipart/form-data">
        <div class="field is-grouped">
            <div class="control">
                <div id="file-js" class="file has-name">
                    <label class="file-label">
                      <input class="file-input" type="file" name="datasets" multiple>
                      <span class="file-cta">
                        <span class="file-icon">
                          <i class="fas fa-upload"></i>
                        </span>
                        <span class="file-label">
                          Select CSV Datasets
                        </span>
                      </span>
                      <span class="file-name">
                        No file uploaded
                      </span>
                    </label>
                </div>
            </div>
            <div class="control" hidden>
                <div class="field">
                    <div class="select">
                        <select name="result_type" id="result_type">
                                <option value="BOOLEAN_ONLY">BOOLEAN_ONLY</option>
                                <option value="BASIC">BASIC</option>
                                <option selected value="SUMMARY">SUMMARY</option>
                                <option value="COMPLETE">COMPLETE</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="control">
                <button class="button is-link">Submit</button>
            </div>
        </div>
    </form>
</div>
<script>
    const fileInput = document.querySelector('#file-js input[type=file]');
    fileInput.onchange = () => {
        if (fileInput.files.length > 0) {
            const fileName = document.querySelector('#file-js .file-name');
            fileName.textContent = fileInput.files.length.toString() + ' files selected';
        }
    }
</script>
{% endblock %}